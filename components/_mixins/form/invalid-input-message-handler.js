/**
 * To help extract and deliver the invalid input message from API Server to the corresponding form control.
 */
export const InvalidInputMessageHandler = {
  data: () => ({
    invalidInputMessageJsonIndex: "invalid_input_message",

    defaultInvalidInputMessage: {},
    invalidInputMessage: {}
  }),

  methods: {
    /**
     * Clear invalid input message from data.
     * @return {void}
     */
    invalidInputMessageClear() {
      let vm = this;

      vm.invalidInputMessage = Object.assign(
        {},
        vm.invalidInputMessage,
        vm.defaultInvalidInputMessage
      );
    },

    /**
     * Extract the invalid input message from API.
     * @param {array} error Axios error generated by catch.
     * @return {void}
     */
    invalidInputMessageExtract(error) {
      let vm = this;

      vm.invalidInputMessage = Object.assign(
        {},
        vm.invalidInputMessage,
        error.response.data[vm.invalidInputMessageJsonIndex]
      );
    }
  }
};
